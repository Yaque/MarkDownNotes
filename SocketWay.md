# 网络框架


1. 服务端ServerSocket开启IP端口监听后等待ClientSocket连接

2. ClientSocket发起连接确认全过程
    
    =:全区所有数据 转成二进制后，发送前，使用加密算法。加密算法暂定使用简单的替换。
    
    A. 客户端发送验证密钥，确认是同一系统。防止其它人误入，为了防止出现重复现象，该密钥使用身份证号码 + 16位字符串密码格式。
        
        a.取得身份证号+密码的MD5之后
        b.客户端保存身份证号以及半截MD5码
        c.客户端发送半截MD5码去服务端验证
            首先发送1000 标识本次为登录请求
            其次发送MD5码 认证本次为统一系统设备
                然后发送本机名称等本机信息
                    最后等待服务端回应，确认本次登录成功
                    回应数据为 1000
        
        d.服务端格局传输来的半截MD5码匹配是否为统一系统结构的客户发起的请求
        e.请求登录完成，服务端记录请求端数据
            服务端维持一个数据队列
                
        f.服务端设置定时器管理请求者心跳节奏，超时移除客户端数据
    
    B. 客户端定时发送心跳包， 1分钟 一次心跳包
        
        心跳包发送过程
            首先发送1010 标识本次为心跳包
            等待服务端回应 回应数据 1010
    
        a. 服务端的定时清理根据心跳包启动，两分钟未接收到新的删除该连接。
        
        b. 客户端1分钟一次发送心跳包
        
    C. 客户端发送文本消息
        
        首先发送文本信息标识码 1011
        打包发送目标相关信息 包括MD5码
        发送发送目标相关信息长度
                
            服务端根据发送目标信息
            确认发送目标
            发送文本信息传输码，其它客户有文本信息将要传输来。请暂停心跳包传输，准备接收文本信息
                目标客户端回应准备号接收信息
                    服务端发送相关信息的长度和内容
                        客户端回应成功收到
                            服务端告诉发送客户端继续发送消息
                
                                发送客户端
                                然后 发送文本信息长度
                                    服务端解析文本长度
                                        发送客户端 发送文本信息本身
                                        等待成功认证
                                            服务端转发文本长度给目标客户端
                                            服务端转发文本信息给目标客户端
                                
                                
                                发送文字相关信息长度
                                发送MD5码
                                发送文本信息长度
                                发送文本信息本身
                                
                                    第三客户端接收信息，验证MD5
                                    成功返回成功，失败返回失败
                        
            
    D. 客户端发送小文件42M以内的
     
        文件传输过程
        首先客户端获取文件
        获取文件MD5码
        取文件信息
            
     E. 客户端发送大文件42M以上的 小于2G的
     
     F. 客户端接收文本消息
     
     G. 客户端接收小文件
     
     H. 客户端接收大文件
        